async function loadGitHubActivity(){try{const t=await fetch("/.netlify/functions/github-activity");if(!t.ok){const e=await t.text();throw new Error(e||"Network response was not ok")}result=await t.json();const e=result.data.user.contributionsCollection.contributionCalendar.weeks;rendarCalendar(e)}catch(t){}}function rendarSkeleton(){for(let t=0;t<12;++t){const t=document.createElement("li");monthWrapper.append(t)}monthWrapper.classList.add("skeleton");for(let t=0;t<SKELETON_ROWS;++t){days[t]=new Array(SKELETON_COLS);for(let e=0;e<SKELETON_COLS;++e){const n=document.createElement("div");n.className="day",calendar.appendChild(n),days[t][e]=n}}}function rendarCalendar(t){const e=[],n=[];for(const{contributionDays:r}of t){n.push(+r[0].date.split("-")[1]);for(const{date:t,contributionCount:n}of r)e.push([t,n])}let r=1;const o=[];for(let t=1;t<n.length;++t)n[t-1]==n[t]?r++:(o.push(r),r=1);o.push(r),rendarMonths(o,e[0][0]);let a=0,s=0;for(let t=0;t<53;++t)for(let n=0;n<7;++n){if(a>=e.length){clearExtraSkeletonDays(a);break}const[r,o]=e[a++],[l,i,c]=r.split("-").map(Number);let d=0;s+=o,o>=7?d=4:o>=4?d=3:o>=2?d=2:o>0&&(d=1),days[n][t].title=`${o} contributions on ${months_str[i-1]} ${c+sufixs[c%10]}`,days[n][t].className=`day level-${d}`}document.getElementById("contribution-count").textContent=s}function rendarMonths(t,e){let n=new Date(e).getMonth();monthWrapper.innerHTML="",monthWrapper.classList.remove("skeleton");for(let e=0;e<t.length;++e){n%=12;const t=document.createElement("li");t.textContent=months_str[n].slice(0,3),monthWrapper.appendChild(t),n++}let r=t.join("fr ");monthWrapper.style.gridTemplateColumns=r+"fr"}function clearExtraSkeletonDays(t){let e=SKELETON_ROWS*SKELETON_COLS;for(;t<e;){let e=t%7,n=Math.floor(t/7);days[e][n].style.visibility="hidden",t++}}const months_str=["January","February","March","April","May","June","July","August","September","October","November","December"],sufixs=["th","st","nd","rd","th","th","th","th","th","th"];let result;loadGitHubActivity();const calendar=document.querySelector("#github .calendar"),monthWrapper=document.querySelector("#github .grid .month"),grid=document.querySelector("#github .grid");grid.scrollLeft=grid.scrollWidth;const days=new Array(7),SKELETON_ROWS=7,SKELETON_COLS=53;rendarSkeleton();