function validateForm(){let e=!0;return nameRegex.test(fullNameInput.value.trim())?(fullNameInput.classList.add("valid"),fullNameInput.classList.remove("invalid")):(fullNameInput.classList.add("invalid"),fullNameInput.classList.remove("valid"),e=!1),emailRegex.test(emailInput.value.trim())?(emailInput.classList.add("valid"),emailInput.classList.remove("invalid")):(emailInput.classList.add("invalid"),emailInput.classList.remove("valid"),e=!1),messageRegex.test(messageInput.value.trim())?(messageInput.classList.add("valid"),messageInput.classList.remove("invalid")):(messageInput.classList.add("invalid"),messageInput.classList.remove("valid"),e=!1),messageBtn.disabled=!e,e}function toast(e,t="success"){alertBox.textContent=e,alertBox.className=`alert ${t} show`,setTimeout(()=>{alertBox.classList.remove("show")},4e3)}const form=document.querySelector("#contact-form"),fullNameInput=document.getElementById("fullname"),emailInput=document.getElementById("email"),messageInput=document.getElementById("message"),messageBtn=document.getElementById("message-btn"),loader=document.querySelector(".loader"),alertBox=document.querySelector(".alert"),nameRegex=/^[a-zA-Z\s'.-]+$/,emailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,messageRegex=/\S+/;["input","blur"].forEach(e=>{fullNameInput.addEventListener(e,validateForm),emailInput.addEventListener(e,validateForm),messageInput.addEventListener(e,validateForm)}),form.addEventListener("submit",async e=>{if(e.preventDefault(),!validateForm())return;const t={from_name:fullNameInput.value.trim(),from_email:emailInput.value.trim(),message:messageInput.value.trim(),to_name:"Abhijeet"};loader.classList.add("show"),messageBtn.disabled=!0;try{const e=await fetch("/.netlify/functions/send-mail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log(e),!e.ok)throw new Error("Request failed");toast("Email sent successfully"),form.reset(),document.querySelectorAll(".valid").forEach(e=>e.classList.remove("valid"))}catch(e){console.error(e),toast("Failed to send email","danger")}finally{loader.classList.remove("show"),messageBtn.disabled=!1}});